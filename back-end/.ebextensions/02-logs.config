# CloudWatch Logs Configuration
files:
  "/opt/elasticbeanstalk/tasks/bundlelogs.d/oscal-app.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      /var/log/tomcat/catalina.out
      /var/log/web.stdout.log
      /var/log/eb-engine.log

  "/opt/elasticbeanstalk/tasks/taillogs.d/oscal-app.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      /var/log/tomcat/catalina.out
      /var/log/web.stdout.log

option_settings:
  # Enable log streaming to CloudWatch
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 30

  # Enable health log streaming
  aws:elasticbeanstalk:cloudwatch:logs:health:
    HealthStreamingEnabled: true
    DeleteOnTerminate: false
    RetentionInDays: 7
